<!-- Jaden Morga
Users can edit their registration information-->

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- !PAGE CONTENT! -->
  <div class="w3-main w3-content w3-padding" style="max-width:2000px;margin-top:100px">
      
    <!-- Top menu -->
    <div class="w3-top">
        <!-- Sidebar (hidden by default) -->
        <nav class="w3-sidebar w3-bar-block w3-card w3-top w3-xlarge w3-animate-left"
            style="display:none;z-index:2;width:40%;min-width:300px" id="mySidebar">
            <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button">Close Menu</a>
            <script>
                nav_bar(this_product_key, products_data);
            </script>
            <a href="./index.html" onclick="w3_close()" class="w3-bar-item w3-button">Home</a>
            <a href="./login.html" onclick="w3_close()" class="w3-bar-item w3-button">Log In</a>
            <a href="./register.html" onclick="w3_close()" class="w3-bar-item w3-button">Register</a>
            <a href="./cart.html" onclick="w3_close()" class="w3-bar-item w3-button">My Cart</a>
        </nav>
        <div class="w3-white w3-xlarge" style="max-width:1200px;margin:auto">
            <div class="w3-button w3-padding-16 w3-left" onclick="w3_open()">☰</div>
            <div class="w3-center w3-padding-16">The Plant Collective &#127793</div>
        </div>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit</title>
    <link rel="stylesheet" href="register.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karma">
    <script>
        // If there are any errors in the sign up, the information will stay inside the textboxes so the customer can change it.
        let params = (new URL(document.location)).searchParams;
          //check if username is valid and redirect to invoice if ok
        window.onload = function () {
          if (params.has('reg_errors')) {
              // parse the errors. errors will show in red under each section
            var errors = JSON.parse(params.get('reg_errors')); 
            // Sticky textboxes.
            for (i = 0; i < edit.elements.length; i++) {
                edit[i].value = params.get(edit[i].name);
              if (typeof errors[edit[i].name] != 'undefined') {
                document.getElementById(edit[i].name + '_error').innerHTML = errors[edit[i].name];
              }
            }
            // Error message for the whole page
            alert('Fix the following errors to proceed!'); 
          }
        }
        </script>
</head>
<body>
  
    <div class="box">
        <h2>Edit User Information </h2>

        <form action="/process_edit" method="POST" name="edit">
            <label for="email"><b>Email Address</b></label>
            <div id='email_error' style="color:red;"></div>
            <p><input type="text" name="email" id="email" size="40"></p>

            <label for="fullname"><b>Full Name</b></label>
            <div id='fullname_error' style="color:red;"></div>
            <p><input type="text" name="fullname" id="fullname" size="40"></p>


            <label for="password"><b>Password</b></label>
            <!--
              IR3: suggestion of a strong password
              -->
           <p>a “strong” password consists of 10 random characters including numbers and special characters</p>
            <div id='password_error' style="color:red;"></div>
            <p><input type="password" name="password" id="password" size="40"></p>
            <label for="confirmpassword"><b>Confirm Password</b></label>
            <div id='confirmpassword_error' style="color:red;"></div>
            <p><input type="password" name="confirmpassword" id="confirmpassword" size="40"></p>
            <input type="submit" value="Save Changes" id="Savechanges">
        </form>
    </div>
</body>
<script>
  // Script to open and close sidebar
  function w3_open() {
      document.getElementById("mySidebar").style.display = "block";
  }

  function w3_close() {
      document.getElementById("mySidebar").style.display = "none";
  }
</script>
</html>